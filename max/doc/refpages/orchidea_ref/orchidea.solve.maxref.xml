<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<?xml-stylesheet href="./_c74_ref.xsl" type="text/xsl"?>

<!--This file has been automatically generated by Doctor Max. DO NOT EDIT THIS FILE DIRECTLY.-->

<c74object name="orchidea.solve" module="orchidea">

	<digest>
		Orchestrate an audio sample
	</digest>

	<description>
		Given a database of analyzed audio samples, an orchestra and an audio target, it approximates the target via a combination of the database samples,
		either in a static or a dynamic form.
	</description>

	<!--METADATA-->
	<metadatalist>
		<metadata name="author">Carmine Emanuele Cella</metadata>
		<metadata name="tag">@keywords</metadata>
	</metadatalist>

	<!--INLETS-->
	<inletlist>
		<inlet id="0" type="INLET_TYPE">
			<digest>
				Target audio file
			</digest>
			<description>
			</description>
		</inlet>
		<inlet id="1" type="INLET_TYPE">
			<digest>
				List of orchestral instruments to be used
			</digest>
			<description>
			</description>
		</inlet>
		<inlet id="2" type="INLET_TYPE">
			<digest>
				File or files containing the database (usually ending with .db)
			</digest>
			<description>
			</description>
		</inlet>
	</inletlist>

	<!--OUTLETS-->
	<outletlist>
		<outlet id="0" type="INLET_TYPE">
			<digest>
				Output prefix, number of found segments and number of found solutions for each segment
			</digest>
			<description>
			</description>
		</outlet>
		<outlet id="1" type="INLET_TYPE">
			<digest>
				Notifications
			</digest>
			<description>
			</description>
		</outlet>
	</outletlist>

	<!--ARGUMENTS-->
	<objarglist>
	</objarglist>

	<!--MESSAGES-->
	<methodlist>
		<method name="anything">
			<arglist />
			<digest>
				Function depends on inlet
			</digest>
			<description>
				A symbol in the left inlet is considered as a target audiofile and triggers the orchestration. The orchestration result
				(prefix of the output files, number of segments and number of solutions for each segment) is output through the left outlet. <br />
				A list of symbols in the second inlet sets the orchestra: one symbol for each instrument, each symbol must show up in the database. <br />
				A symbol or list of symbols in the third inlet sets the full path to the database or databases to be used for the orchestration.
			</description>
		</method>
		<method name="bang">
			<arglist />
			<digest>
				Orchestrate
			</digest>
			<description>
				A <m>bang</m> triggers the orchestration with the last input parameters.
			</description>
		</method>
		<method name="list">
			<arglist />
			<digest>
				Set orchestra or databases
			</digest>
			<description>
				See <m>anything</m>.
			</description>
		</method>
		<method name="resetfilters">
			<arglist />
			<digest>
				Reset filters
			</digest>
			<description>
				A <m>resetfilters</m> message will remove all the defined filters.
			</description>
		</method>
		<method name="symbol">
			<arglist />
			<digest>
				Set target and orchestrate
			</digest>
			<description>
				See <m>anything</m>.
			</description>
		</method>
	</methodlist>

	<!--ATTRIBUTES-->
	<attributelist>
		<attribute name="connection" get="1" set="1" type="symbol" size="1">
			<digest>
				Connection Type
			</digest>
			<description>
				Sets the connection type: either "closest" or "best". <br />
				This is a static attribute which can only be set by typing it in the object box.
			</description>
			<attributelist>
				<attribute name="category" get="1" set="1" type="symbol" size="1" value="Dynamic Orchestration" />
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Connection Type" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="enum" />
			</attributelist>
		</attribute>
		<attribute name="dynamics" get="1" set="1" type="sym_array" size="0">
			<digest>
				Dynamics
			</digest>
			<description>
				Sets the allowed dynamics.
			</description>
			<attributelist>
				<attribute name="category" get="1" set="1" type="symbol" size="1" value="Filters" />
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Dynamics" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="text" />
			</attributelist>
		</attribute>
		<attribute name="exportsolutions" get="1" set="1" type="int" size="1">
			<digest>
				Number sf Solutions to Export
			</digest>
			<description>
				Sets the number of solutions to be exported as files. It defaults at 10. Set 0 to only export
				the connection; set to <m>popsize</m> to export the maximum number of possible solutions.
			</description>
			<attributelist>
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Number sf Solutions to Export" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="text" />
			</attributelist>
		</attribute>
		<attribute name="extrapitches" get="1" set="1" type="sym_array" size="0">
			<digest>
				Extra Pitches
			</digest>
			<description>
				Sets extra pitches.
			</description>
			<attributelist>
				<attribute name="category" get="1" set="1" type="symbol" size="1" value="Target" />
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Extra Pitches" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="text" />
			</attributelist>
		</attribute>
		<attribute name="maxepochs" get="1" set="1" type="int" size="1">
			<digest>
				Maximum Number of Epochs
			</digest>
			<description>
				Sets the maximum number of epochs.
			</description>
			<attributelist>
				<attribute name="category" get="1" set="1" type="symbol" size="1" value="Search" />
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Maximum Number of Epochs" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="text" />
			</attributelist>
		</attribute>
		<attribute name="mutationrate" get="1" set="1" type="float" size="1">
			<digest>
				Mutation Rate
			</digest>
			<description>
				Sets the mutation rate.
			</description>
			<attributelist>
				<attribute name="category" get="1" set="1" type="symbol" size="1" value="Search" />
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Mutation Rate" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="text" />
			</attributelist>
		</attribute>
		<attribute name="negativepenalization" get="1" set="1" type="float" size="1">
			<digest>
				Negative Penalization
			</digest>
			<description>
				Sets the negative penalization.
			</description>
			<attributelist>
				<attribute name="category" get="1" set="1" type="symbol" size="1" value="Search" />
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Negative Penalization" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="text" />
			</attributelist>
		</attribute>
		<attribute name="onsetthreshold" get="1" set="1" type="float" size="1">
			<digest>
				Onset Threshold
			</digest>
			<description>
				Sets the onset threshold
			</description>
			<attributelist>
				<attribute name="category" get="1" set="1" type="symbol" size="1" value="Dynamic Orchestration" />
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Onset Threshold" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="text" />
			</attributelist>
		</attribute>
		<attribute name="onsettimegate" get="1" set="1" type="float" size="1">
			<digest>
				Onset Time Gate
			</digest>
			<description>
				Sets the onset time gate in milliseconds.
			</description>
			<attributelist>
				<attribute name="category" get="1" set="1" type="symbol" size="1" value="Dynamic Orchestration" />
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Onset Time Gate" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="text" />
			</attributelist>
		</attribute>
		<attribute name="orchestra" get="1" set="1" type="sym_array" size="0">
			<digest>
				Orchestra
			</digest>
			<description>
				Sets the orchestra.
			</description>
			<attributelist>
				<attribute name="category" get="1" set="1" type="symbol" size="1" value="Orchestra" />
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Orchestra" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="text" />
			</attributelist>
		</attribute>
		<attribute name="others" get="1" set="1" type="sym_array" size="0">
			<digest>
				Others
			</digest>
			<description>
				Sets other filters.
			</description>
			<attributelist>
				<attribute name="category" get="1" set="1" type="symbol" size="1" value="Filters" />
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Others" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="text" />
			</attributelist>
		</attribute>
		<attribute name="parallel" get="1" set="1" type="int" size="1">
			<digest>
				Parallel
			</digest>
			<description>
				When this attribute is 1, the computations are performed in a separate thread. <br />
				This is beyond the edge of legality in Max, so use this at your own risk: for instance, don't modify the object or close the patch while running,
				because this will more than likely cause crashes.
			</description>
			<attributelist>
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Parallel" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="onoff" />
			</attributelist>
		</attribute>
		<attribute name="partialsfilter" get="1" set="1" type="float" size="1">
			<digest>
				Partials Filter
			</digest>
			<description>
				Sets the partials filter
			</description>
			<attributelist>
				<attribute name="category" get="1" set="1" type="symbol" size="1" value="Target" />
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Partials Filter" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="text" />
			</attributelist>
		</attribute>
		<attribute name="partialswindow" get="1" set="1" type="int" size="1">
			<digest>
				Partials Window Size
			</digest>
			<description>
				Sets the size of the analysis window for partials
			</description>
			<attributelist>
				<attribute name="category" get="1" set="1" type="symbol" size="1" value="Target" />
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Partials Window Size" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="text" />
			</attributelist>
		</attribute>
		<attribute name="popsize" get="1" set="1" type="int" size="1">
			<digest>
				Population Size
			</digest>
			<description>
				Sets the population size.
			</description>
			<attributelist>
				<attribute name="category" get="1" set="1" type="symbol" size="1" value="Search" />
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Population Size" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="text" />
			</attributelist>
		</attribute>
		<attribute name="positivepenalization" get="1" set="1" type="float" size="1">
			<digest>
				Positive Penalization
			</digest>
			<description>
				Sets the positive penalization.
			</description>
			<attributelist>
				<attribute name="category" get="1" set="1" type="symbol" size="1" value="Search" />
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Positive Penalization" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="text" />
			</attributelist>
		</attribute>
		<attribute name="prefix" get="1" set="1" type="symbol" size="1">
			<digest>
				Output Prefix
			</digest>
			<description>
				Sets the prefix path to be added to the output files.
				By default output files will be put in the same folder of the target file.
			</description>
			<attributelist>
				<attribute name="category" get="1" set="1" type="symbol" size="1" value="Paths" />
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Output Prefix" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="text" />
			</attributelist>
		</attribute>
		<attribute name="pursuit" get="1" set="1" type="int" size="1">
			<digest>
				Pursuit
			</digest>
			<description>
				Sets the pursuit.
			</description>
			<attributelist>
				<attribute name="category" get="1" set="1" type="symbol" size="1" value="Search" />
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Pursuit" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="text" />
			</attributelist>
		</attribute>
		<attribute name="search" get="1" set="1" type="symbol" size="1">
			<digest>
				Search Type
			</digest>
			<description>
				Sets the search type.
			</description>
			<attributelist>
				<attribute name="category" get="1" set="1" type="symbol" size="1" value="Search" />
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Search Type" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="enum" />
			</attributelist>
		</attribute>
		<attribute name="segmentation" get="1" set="1" type="symbol" size="1">
			<digest>
				Segmentation Type
			</digest>
			<description>
				Sets the segmentation type: either "flux" or "frames". <br />
				This is a static attribute which can only be set by typing it in the object box.
			</description>
			<attributelist>
				<attribute name="category" get="1" set="1" type="symbol" size="1" value="Dynamic Orchestration" />
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Segmentation Type" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="enum" />
			</attributelist>
		</attribute>
		<attribute name="soundpaths" get="1" set="1" type="sym_array" size="0">
			<digest>
				Paths to Sound Files
			</digest>
			<description>
				If needed, sets the paths to the root folders containing the audio files, one path for each database file.
				The default value is the <m>default</m> symbol, maning that the program expects the sound folder to be at the same level
				of the database file, and with the same name.
				In this case, there's no need to define any soundpath.
			</description>
			<attributelist>
				<attribute name="category" get="1" set="1" type="symbol" size="1" value="Paths" />
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Paths to Sound Files" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="text" />
			</attributelist>
		</attribute>
		<attribute name="sparsity" get="1" set="1" type="float" size="1">
			<digest>
				Sparsity
			</digest>
			<description>
				Sets the sparsity.
			</description>
			<attributelist>
				<attribute name="category" get="1" set="1" type="symbol" size="1" value="Search" />
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Sparsity" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="text" />
			</attributelist>
		</attribute>
		<attribute name="styles" get="1" set="1" type="sym_array" size="0">
			<digest>
				Styles
			</digest>
			<description>
				Sets the allowed styles.
			</description>
			<attributelist>
				<attribute name="category" get="1" set="1" type="symbol" size="1" value="Filters" />
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Styles" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="text" />
			</attributelist>
		</attribute>
		<attribute name="verbose" get="1" set="1" type="int" size="1">
			<digest>
				Verbose
			</digest>
			<description>
				Toggles the verbose mode
			</description>
			<attributelist>
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Verbose" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="onoff" />
			</attributelist>
		</attribute>
		<attribute name="xoverrate" get="1" set="1" type="float" size="1">
			<digest>
				Cross-Over Rate
			</digest>
			<description>
				Sets the cross-over rate.
			</description>
			<attributelist>
				<attribute name="category" get="1" set="1" type="symbol" size="1" value="Search" />
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Cross-Over Rate" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="text" />
			</attributelist>
		</attribute>
	</attributelist>

	<!--SEEALSO-->
	<seealsolist>
		<seealso name="orchidea.db.gen" />
		<seealso name="orchidea.solution.toroll" />
		<seealso name="orchidea.solution.totext" />
		<seealso name="orchidea.solution.tobuffer" />
		<seealso name="orchidea.solution.tofile" />
	</seealsolist>

	<misc name = "Input">
		<entry name ="Inlet 1 (symbol)">
			<description>
				Target audio file.
			</description>
		</entry>
		<entry name ="Inlet 2 (list)">
			<description>
				List of orchestral instruments to be used.
			</description>
		</entry>
		<entry name ="Inlet 3 (symbol/list)">
			<description>
				File or files containing the database (usually ending with .db).
			</description>
		</entry>
	</misc>

	<misc name = "Output">
		<entry name ="Outlet 1 (symbol/list)">
			<description>
				Output prefix, number of found segments and number of found solutions for each segment.
			</description>
		</entry>
		<entry name ="Outlet 2 (list)">
			<description>
				Notifications.
			</description>
		</entry>
	</misc>

</c74object>